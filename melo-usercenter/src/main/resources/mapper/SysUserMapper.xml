<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="me.melo.cloud.usercenter.mapper.SysUserMapper">    <select id="queryUserInfo" resultType="me.melo.cloud.usercenter.entity.UserInfo" parameterType="me.melo.cloud.usercenter.entity.SysUser">        SELECT DISTINCT        sysUser.id AS id,        sysUser.tenant_id AS tenantId,        sysUser.account AS account,        sysUser.nickname AS nickname,        sysUser.real_name AS realName,        sysUser.gender AS gender,        sysUser.email AS email,        sysUser.mobile AS mobile,        sysUser.password AS password,        sysUser.status AS status,        sysUser.avatar AS avatar,        sysUser.country AS country,        sysUser.province AS province,        provinceDistrict.name AS provinceName,        sysUser.city AS city,        cityDistrict.name AS cityName,        sysUser.area AS area,        sysUser.street AS street,        sysUser.comments AS comments,        sysUser.created_time AS createdTime,        sysUser.created_by AS createdBy,        sysUser.modified_time AS modifiedTime,        sysUser.modified_by AS modifiedBy,        GROUP_CONCAT(DISTINCT sysRole.id) AS roleIds,        GROUP_CONCAT(DISTINCT sysRole.role_key) AS roleKeys,        GROUP_CONCAT(DISTINCT sysRole.role_name) AS roleNames,        GROUP_CONCAT(DISTINCT sysRole.data_permission_type) AS dataPermissionTypes,        GROUP_CONCAT(DISTINCT dataPermission.org_id) AS orgIds,        sysOrg.id AS orgId,        sysOrg.org_name AS orgName        FROM sys_user sysUser        INNER JOIN sys_user_role userRole ON sysUser.id = userRole.user_id AND userRole.del_flag = 0        LEFT JOIN sys_role sysRole ON userRole.role_id = sysRole.id AND sysRole.del_flag = 0        LEFT JOIN sys_district provinceDistrict ON sysUser.province = provinceDistrict.code        LEFT JOIN sys_district cityDistrict ON sysUser.city = cityDistrict.code        LEFT JOIN sys_data_permission_user_org dataPermission ON sysUser.id = dataPermission.user_id AND dataPermission.del_flag = 0        INNER JOIN sys_org_user orgUser ON sysUser.id = orgUser.user_id AND orgUser.del_flag = 0        INNER JOIN sys_org sysOrg ON orgUser.org_id = sysOrg.id AND sysOrg.del_flag = 0        WHERE sysUser.del_flag = 0        <if test="id != null and id != ''">            and sysUser.id = #{id}        </if>        <trim prefix="and (" suffix=")" prefixOverrides="and">            <if test="account != null and account != ''">                AND sysUser.account = #{account}            </if>            <if test="realName != null and realName != ''">                AND sysUser.real_name = #{realName}            </if>            <if test="mobile != null and mobile != ''">                AND sysUser.mobile = #{mobile}            </if>            <if test="email != null and email != ''">                AND sysUser.email = #{email}            </if>        </trim>        GROUP BY sysUser.id    </select></mapper>